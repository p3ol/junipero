@require "../theme/colors"

.junipero.loader
  --main-color: var(--default-main-color)

  &.dots
    display: inline

    .dot
      display: inline-block
      width: 7px
      height: 7px
      margin-right: 2px
      border-radius: 50%
      background: var(--main-color)
      opacity: 1
      animation: loader-fade 1.5s ease-out infinite
      vertical-align: middle
      position: relative
      top: -1px

      &:last-child
        margin-right: 0

      &:nth-child(2)
        animation-delay: .2s

      &:nth-child(3)
        animation-delay: .4s

  &.bar
    background: $color-gallery
    height: 6px
    overflow: hidden
    width: 250px
    display: block
    border-radius: 3px

    .inner
      width: 100%
      height: 6px
      transform: translateX(-50%)
      display: block
      border-radius: 3px

      &:after
        content: ""
        background: var(--main-color)
        display: block
        height: 6px
        width: 40%

    &.active .inner
      animation: loader-slide 1.5s ease-in-out infinite

  &.spinner
    width: 18px
    height: 18px
    border-radius: 50%
    background: linear-gradient(to right, var(--main-color) 10%, transparent 42%)
    animation: loader-rotate .5s infinite linear
    display: inline-block

    &:before
      width: 50%
      height: 50%
      background: var(--main-color)
      border-radius: 100% 0 0 0
      position: absolute
      top: 0
      left: 0
      content: ''

    &:after
      background: $color-white
      width: 75%
      height: 75%
      border-radius: 50%
      content: ''
      margin: auto
      position: absolute
      top: 0
      left: 0
      bottom: 0
      right: 0

  for type in (primary secondary ternary warning danger success light dark)
    &.{type}
      --main-color: "var(--%s-main-color)" % type


@keyframes loader-fade
  0%
    opacity: 1
  50%
    opacity: 0

@keyframes loader-rotate
  0%
    transform: rotate(0)

  100%
    transform: rotate(360deg)

@keyframes loader-slide
  0%
    transform: translateX(-50%)

  100%
    transform: translateX(110%)
