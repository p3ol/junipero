@require "../theme/vars"
@require "../theme/colors"

.junipero.select
  --main-color: $color-eastern-blue
  --text-color: $color-shuttle-gray
  --sub-color: $color-alto
  --border-color: $color-alabaster

  display: inline-block
  width: auto
  min-width: 250px

  .dropdown
    display: block
    width: 100%

  .dropdown-toggle
    position: relative
    display: block

    .base
      cursor: default
      padding-right: 30px

    .arrow
      position: absolute
      width: 10px
      height: 15px
      top: 50%
      right: 10px
      transform: translateY(-50%)
      pointer-events: none
      user-select: none

      &:before,
      &:after
        content: ''
        display: block
        position: relative
        width: 7px
        height: 7px
        left: 2px
        transform: rotate(45deg)
        border: 0px solid var(--text-color)
        transition: border-color .1s ease-in-out

      &:before
        border-left-width: 2px
        border-top-width: 2px
        top: 1px

      &:after
        border-right-width: 2px
        border-bottom-width: 2px

  .no-items, .no-results
    padding: 10px
    color: var(--text-color)
    text-align: center

  &:not(.with-search)
    .items-group
      &:first-child
        border-top: 0
        padding-top: 0
        margin-top: 0

  &.with-search
    .items-group
      &:first-child
        margin-top: 0

  .items-group
    padding-top: 10px
    border-top: 1px solid var(--border-color)
    margin-top: 10px

    &:last-child
      padding-bottom: 0

    .group-label
      font-size: $text-extra-font-size
      line-height: $text-extra-line-height
      color: var(--sub-color)
      padding: 0 15px 10px


  .search
    padding: 0 10px 10px

    .text-input
      min-width: auto
      width: 100%

  &.searching
    .search-results, .items
      opacity: .5

  &.focused
    .arrow
      &:before, &:after
        border-color: var(--main-color)

  &.disabled
    .arrow
      &:before, &:after
        border-color: var(--text-color)

    .junipero.base.empty
      .label
        opacity: 0
