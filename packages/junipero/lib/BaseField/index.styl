@require "../theme/colors"

.junipero.base
  --main-color: $color-eastern-blue
  --background-color: $color-black-squeeze
  --text-color: $color-midnight
  --sub-color: $color-shuttle-gray
  --shadow-color: rgba($color-eastern-blue, .5)

  display: block
  position: relative
  min-height: 40px
  width: 100%
  padding: 9px
  border-radius: 4px
  background: var(--background-color)
  border: none
  outline: none
  font-size: 16px
  line-height: normal
  transition: box-shadow .1s ease-in-out

  &.focused:not(.disabled)
    box-shadow: 0 0 0 2px var(--shadow-color)

  &.disabled
    opacity: .5

  .placeholder,
  .label
    position: absolute
    pointer-events: none
    user-select: none
    transform-origin: 0 0
    white-space: nowrap
    overflow: hidden
    text-overflow: ellipsis
    display: block
    width: calc(100% - 18px)

  .placeholder
    left: 9px
    top: 50%
    transform: translateY(-50%)
    color: var(--sub-color)

  .label
    top: 4px
    left: 9px
    opacity: 0
    transform: translateY(5px) scale(0.7)
    transition-property: opacity, transform
    transition-duration: .1s
    transition-timing-function: ease-out
    color: var(--main-color)
    width: 130%

  .value
    text-overflow: ellipsis
    white-space: nowrap
    overflow: hidden

  &:not(.empty),
  &.label-enforced
    .label
      transform: translateY(0) scale(0.7)
      opacity: 1

    &:not(.labeled)
      .label
        display: none

  &.labeled
    padding: 13px 9px
    min-height: 48px

    &:not(.empty),
    &.label-enforced
      padding: 21px 9px 5px

    &.label-enforced
      .placeholder
        top: calc(50% + 8px)
